/*
 * Marubeni theme overrides for EDS blocks.
 * Load after styles.css (e.g. in head or via metadata) when serving Marubeni content.
 * Values from drafts/tmp/marubeni-style-analysis.md (analyze-and-plan Visual Analysis).
 * See building-blocks Step 4.
 */

/* 本家 02-font.min.css と同様: YakuhanJP + Google Fonts (Inter, Noto Sans JP) */
@import url("https://cdn.jsdelivr.net/npm/yakuhanjp@4.1.1/dist/css/yakuhanjp.css");
@import url("https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Noto+Sans+JP:wght@100..900&display=swap");

/* 本家 02-font.min.css の Ben アイコンフォント（矢印 \e902）。ローカルが無い場合は本家 CDN を使用 */
@font-face {
  font-display: block;
  font-family: Ben;
  font-style: normal;
  font-weight: 400;
  src: url('./fonts/ben.woff') format('woff'),
       url('https://www.marubeni.com/common/fonts/ben.woff?v=20250919') format('woff');
}

/* layout: 本家と同様に fluid。1280 で 1088px、1387 で 1195px、1536+ で 1344px (min(1344px, 100vw - 192px)) */
:root {
  --max-content-width: 1088px;
  --inline-section-padding: 24px;

  /* colors – Marubeni brand (analysis §3) */
  --background-color: #fff;
  --light-color: #f5f5f5;
  --dark-color: #505050;
  --text-color: #131313;
  --link-color: #0066a1;
  --link-hover-color: #004d7a;

  /* 本家 01-common.min.css の a:hover .c-icon-link__label をそのまま使用 */
  --card-text-hover-color: #e60012;

  /* Cards icon: 円・矢印とも #e60012 */
  --card-icon-color: #e60012;
  --card-icon-arrow-color: #e60012;

  /* 方法B: 本家 01-common.min.css と同じ倍率（--rem との calc で px 算出）。desktop: 2.6→26px, 1.8→18px */
  --card-icon-size: 2.6;
  --card-font-size: 1.8;
  --card-icon-stroke-width: 1.5;
  --card-icon-circle-r: 12;
  --card-icon-circle-c: 75.398;
  --card-body-line-height: 1.5;

  /* fonts – 本家 Computed と同一 (02-font.min.css + 01-common.min.css) */
  --body-font-family: inter, yakuhanjp, "Noto Sans JP", sans-serif;
  --heading-font-family: inter, yakuhanjp, "Noto Sans JP", sans-serif;

  /* section/block overrides. 本家 .p-home__about ul.c-card-list (cards-computed-styles.json) に合わせる */
  --card-border-radius: 0;
  --card-border-color: transparent;
  --card-box-shadow: none;
  --card-background: transparent;

  /* Cards list: 本家 ul.c-card-list (gap 56px 40px)。幅はセクションに合わせ fluid で 4 列 */
  --card-list-gap: 56px 40px;
  --card-list-item-min-width: 242px;
  --card-list-margin-top: 4.8rem;

  /* Card body: 画像とテキスト間は固定 24px（本家 cards-computed-styles margin-top）。テキストサイズに依存しない */
  --card-body-margin-top: 24px;
  --card-body-font-weight: 500;

  /* 本家: 画像周りの薄いグレー枠線 */
  --card-image-border-color: rgb(0 0 0 / 8%);

  /* 本家ラベル色 rgb(40,40,40) */
  --card-text-color: #282828;

  /* Header: 本家 .l-header__bar の高さ（mobile 5.3rem = 53px） */
  --nav-height: 53px;
}

/* 本家: 900px 以上で fluid 幅 min(1344px, 100vw - 192px)、左右は margin:auto */
@media screen and (width >= 900px) {
  :root {
    --max-content-width: min(1344px, calc(100vw - 192px));
    --inline-section-padding: 0;

    /* Header bar height: 本家 7.2*--rem; scale with viewport 900–1280 (51px–72px) */
    --nav-height: clamp(51px, 5.625vw, 72px);
  }
}

/* Breakpoint 900px: matches original site (01-common.min.css .c-icon-link). */
@media screen and (width < 900px) {
  :root {
    /* 本家 .c-icon-link モバイル: --icon-size: 2.4, --font-size: 1.6 */
    --card-icon-size: 2.4;
    --card-font-size: 1.6;
  }
}

/* stylelint-disable no-descending-specificity -- main + fallback selectors for Author */

/* Cards block: main scoped + fallback when no main (AEM Author canvas). */

/* 方法B: 本家と同じ基準単位。カード内の calc(var(--rem)*...) は 10px ベースで 18px/26px 等を算出 */
.cards,
main .cards,
.cards-wrapper,
main .cards-wrapper,
.cards-wrapper.cards-wrapper > div,
main .cards-wrapper.cards-wrapper > div {
  --rem: 10;
}

/* List container: margin-top from cards-computed-styles (ul margin-top 48px) */
.cards > ul,
main .cards > ul,
.cards-wrapper > ul,
main .cards-wrapper > ul,
.cards-wrapper.cards-wrapper > div > ul,
main .cards-wrapper.cards-wrapper > div > ul,
.cards-wrapper .cards > ul,
main .cards-wrapper .cards > ul {
  margin-top: var(--card-list-margin-top);
}

/* .cards (local/preview) */
.cards > ul > li,
main .cards > ul > li {
  border-radius: var(--card-border-radius);
  border-color: var(--card-border-color);
  box-shadow: var(--card-box-shadow);
  color: var(--card-text-color, var(--text-color));
  font-family: var(--body-font-family);
}

.cards .cards-card-body,
main .cards .cards-card-body {
  color: var(--card-text-color, var(--text-color));
  font-family: var(--body-font-family);
}

.cards .cards-card-body a,
main .cards .cards-card-body a {
  color: var(--card-text-color, #282828);
  text-decoration: none;
}

/* Platform .cards-wrapper (AEM Author). Higher specificity to win over lazy-styles / AEM lib. */
.cards-wrapper.cards-wrapper > ul > li,
main .cards-wrapper.cards-wrapper > ul > li {
  border-radius: var(--card-border-radius);
  border-color: var(--card-border-color);
  box-shadow: var(--card-box-shadow);
  color: var(--card-text-color, var(--text-color));
  font-family: var(--body-font-family);
}

.cards-wrapper.cards-wrapper > div > ul > li,
main .cards-wrapper.cards-wrapper > div > ul > li {
  border-radius: var(--card-border-radius);
  border-color: var(--card-border-color);
  box-shadow: var(--card-box-shadow);
  color: var(--card-text-color, var(--text-color));
  font-family: var(--body-font-family);
}

.cards-wrapper.cards-wrapper .cards-card-body,
main .cards-wrapper.cards-wrapper .cards-card-body {
  color: var(--card-text-color, var(--text-color));
  font-family: var(--body-font-family);
}

.cards-wrapper.cards-wrapper .cards-card-body a,
main .cards-wrapper.cards-wrapper .cards-card-body a {
  color: var(--card-text-color, #282828);
  text-decoration: none;
}

.cards-wrapper.cards-wrapper > div .cards-card-body,
main .cards-wrapper.cards-wrapper > div .cards-card-body {
  color: var(--card-text-color, var(--text-color));
  font-family: var(--body-font-family);
}

.cards-wrapper.cards-wrapper > div .cards-card-body a,
main .cards-wrapper.cards-wrapper > div .cards-card-body a {
  color: var(--card-text-color, #282828);
  text-decoration: none;
}

/* .cards inside .cards-wrapper */
.cards-wrapper.cards-wrapper .cards > ul > li,
main .cards-wrapper.cards-wrapper .cards > ul > li {
  border-radius: var(--card-border-radius);
  border-color: var(--card-border-color);
  box-shadow: var(--card-box-shadow);
  color: var(--card-text-color, var(--text-color));
  font-family: var(--body-font-family);
}

.cards-wrapper.cards-wrapper .cards .cards-card-body,
main .cards-wrapper.cards-wrapper .cards .cards-card-body {
  color: var(--card-text-color, var(--text-color));
  font-family: var(--body-font-family);
}

.cards-wrapper.cards-wrapper .cards .cards-card-body a,
main .cards-wrapper.cards-wrapper .cards .cards-card-body a {
  color: var(--card-text-color, #282828);
  text-decoration: none;
}

/* ========== Header (Marubeni) ========== */

/* Skip link: 本家 u-visually-hidden、フォーカス時のみ表示 */
.skip-link {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
  color: var(--link-color);
  background: var(--background-color);
}

.skip-link:focus {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 9999;
  width: auto;
  height: auto;
  padding: 0.75rem 1rem;
  margin: 0;
  overflow: visible;
  clip-path: none;
  white-space: normal;
  font-family: var(--body-font-family);
  font-size: var(--body-font-size-s);
}

/* モバイル: ツールを先に表示（本家 .l-header__utility が上） */
@media (width < 900px) {
  header nav[aria-expanded='true'] {
    grid-template:
      'hamburger brand' var(--nav-height)
      'tools tools' auto
      'sections sections' 1fr / auto 1fr;
  }
}
