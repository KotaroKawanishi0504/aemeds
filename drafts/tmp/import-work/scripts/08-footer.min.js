import{flip,offset,shift}from"https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.1/+esm";import Menu from"./menu.min.js";import{updateViewportUnit}from"./viewport-unit.min.js";class MarubeniFooter extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const e=this.shadowRoot,t=document.createElement("link");t.addEventListener("load",()=>this.style.setProperty("visibility","visible")),e.append(Object.assign(t,{href:`${this.previousElementSibling.href.split("/common/stylesheets/")[0]}/common/stylesheets/footer.min.css`,rel:"stylesheet"}),this.querySelector("template").content.cloneNode(!0)),document.body.hasAttribute("data-no-footer-navigation")&&e.querySelector(".l-footer").setAttribute("data-no-navigation",""),(()=>{const t={popover:{menu:{middleware:[flip({fallbackPlacements:["top-start"]}),shift()],placement:"right"}},selector:{trigger:".c-sns-list__link"}};new Menu(e.querySelector(".c-sns-list__item.-instagram:has(button)"),t)})(),window.addEventListener("resize",()=>updateViewportUnit(this)),updateViewportUnit(this)}}customElements.define("marubeni-footer",MarubeniFooter);