import Swiper from"https://esm.sh/swiper@11/swiper-bundle";(()=>{const e=document.querySelector("marubeni-header");new IntersectionObserver(t=>t.forEach(t=>e.toggleAttribute("data-translucent",t.isIntersecting)),{threshold:.2}).observe(document.querySelector(".p-home__hero"))})(),(()=>{const e=document.querySelector('[data-js="home-hero-carousel"]'),t=1===e.querySelectorAll(".swiper-slide").length;t&&e.setAttribute("data-no-swiper","");let n=null,o={allowTouchMove:!t,loop:!0,pagination:{clickable:!0,el:".swiper-pagination",renderBullet:(e,t)=>`<span aria-label="${"ja"===document.documentElement.lang?e+1+"枚目のスライドへ":"Go to slide "+(e+1)}" class="${t}"><i></i></span>`},slidesPerView:t?0:1},r=e.querySelectorAll("video");function i(e){e.matches?r.forEach(e=>{const t=e.querySelector("source");t.src=t.getAttribute("data-src"),e.load()}):r.forEach(e=>{e.pause(),e.querySelector("source").removeAttribute("src")})}function a(){if(!r.length)return;r.forEach(e=>e.pause());const e=n.slides[n.activeIndex].querySelector("video");e&&(e.muted=!0,e.play().catch(()=>{}))}!function(){n=new Swiper(e,o),n.on("init",a),n.on("slideChange",a),n.init(),1===e.querySelectorAll(".swiper-slide").length&&a();const t=window.matchMedia("(width >= 900px)");t.addEventListener("change",i),i(t)}()})(),(()=>{const e=[...document.querySelector('[data-js="home-important"]').getElementsByTagName("h2")];function t(){e.forEach(e=>e.style.removeProperty("width"));const t=Math.max(...[...e].map(e=>e.getBoundingClientRect().width));e.forEach(e=>{e.getBoundingClientRect().width<t&&(e.style.width=`${t}px`)})}new ResizeObserver(t).observe(document.documentElement),t()})(),(()=>{const e=document.querySelector('[data-js="home-spotlight-carousel"]');let t=null;function n(n){n.matches?(t=new Swiper(e,{centeredSlides:!0,pagination:{clickable:!0,el:".swiper-pagination",renderBullet:(e,t)=>`<span aria-label="${"ja"===document.documentElement.lang?e+1+"枚目のスライドへ":"Go to slide "+(e+1)}" class="${t}"><i></i></span>`},slidesPerView:1.6,spaceBetween:16}),t.on("init",o),t.on("resize",o),t.init()):t&&(t.destroy(),t=null)}function o(){t.params.spaceBetween=1.6*parseFloat(window.getComputedStyle(document.documentElement).getPropertyValue("font-size"))}e.insertAdjacentElement("beforeend",document.createElement("div")).className="swiper-pagination",function(){const e=window.matchMedia("(max-width: 899px)");e.addEventListener("change",n),n(e)}()})();